<mat-toolbar color="primary">
    <h1>Sales page</h1>
    <button mat-flat-button color="warn" (click)="openCreateSaleDialog()">New sale</button>
    <button mat-flat-button color="warn" (click)="readSales()">Load</button>
    <span class="example-spacer"></span>
    <h1>MyCRM</h1>
</mat-toolbar>

<div class="table-container">
  <table mat-table [dataSource]="salesDataSource" matSort>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Code</th>
      <td mat-cell *matCellDef="let sale"> {{sale.saleId.saleId}} </td>
    </ng-container>

    <ng-container matColumnDef="progress">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Progress</th>
      <td mat-cell *matCellDef="let sale"> {{sale.progress}} </td>
    </ng-container>

    <ng-container matColumnDef="activity">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Activity</th>
      <td mat-cell *matCellDef="let sale"> {{sale.activity}} </td>
    </ng-container>

    <ng-container matColumnDef="customer">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Customer</th>
      <td mat-cell *matCellDef="let sale"> {{sale.saleId.customerId}} </td>
    </ng-container>

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Amount</th>
      <td mat-cell *matCellDef="let sale"> {{sale.amount}} </td>
    </ng-container>

    <ng-container matColumnDef="product">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Product</th>
      <td mat-cell *matCellDef="let sale"> {{sale.saleId.productId}} </td>
    </ng-container>

    <ng-container matColumnDef="lastUpdate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Last update</th>
      <td mat-cell *matCellDef="let sale"> {{sale.lastUpdate}} </td>
    </ng-container>

    <ng-container matColumnDef="createdAt">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Created at</th>
      <td mat-cell *matCellDef="let sale"> {{sale.saleId.createdAt}} </td>
    </ng-container>

    <ng-container matColumnDef="notes">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Notes</th>
      <td mat-cell *matCellDef="let sale"> {{sale.notes}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" [class.selected-row]="currentSelectedSale === row" (click)="rowClicked(row)"></tr>
  </table>
</div>

<mat-toolbar color="primary" class="footer-toolbar">
    <button mat-flat-button [disabled]="!isRowSelected" (click)="deleteSale()">Delete</button>
    <button mat-flat-button [disabled]="!isRowSelected" (click)="modifySale()">Modify</button>
</mat-toolbar>